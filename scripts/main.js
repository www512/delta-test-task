window.addEventListener("DOMContentLoaded",(()=>{class e{constructor(e,t){this.name=e,this.data=t}getChart(){new Chart(this.name,{type:"line",data:{labels:[1,2,3,4,5,6],datasets:[{label:"Test",data:this.data,borderWidth:1,borderColor:"rgb(68, 123, 84)",pointBackgroundColor:"rgb(68, 123, 84)"}]},options:{responsive:!1,scales:{y:{beginAtZero:!0}},plugins:{legend:{display:!1,labels:{usePointStyle:!0}}}}})}}function t(e){return e.toString().replace(/(\d{1,3}(?=(?:\d\d\d)+(?!\d)))/g,"$1 ")}function a(e,t){const a=[0];for(let n=1;n<6;n++)a.push(Math.floor(Math.random()*(t-e+1)+e));return a}var n;document.addEventListener("click",(e=>{if(e.target.closest(".table__data")){e.target.closest(".table__data").nextSibling.classList.toggle("hide")}})),n=".table",fetch("dataTable.json").then((e=>e.json())).then((n=>{!function(n,d){const r=document.querySelector(`${n} tbody`);for(let n=0;n<d.name.length;n++){const s=document.createElement("tr"),l=document.createElement("tr");s.classList.add("table__data"),s.innerHTML=`<td><div>${d.name[n]}</div></td>\n                            <td><div>${t(d.day[n])}</div></td>\n                            <td><div>\n                                    <span>${t(d.yesterday[n])}</span>\n                                    <span>${d.percent[n]}%</span>\n                                </div>\n                            </td>\n                            <td><div>${t(d.today[n])}</div></td>`,l.innerHTML=`<td colspan="4" class="table__canvas">\n                                <div class="table__graph">\n                                    <canvas id="myChart-${n}" width="800" height="400"></canvas>\n                                </div>\n                            </td>`,l.classList.add("table__chart","hide"),r.append(s,l),d.percent[n]>0?(s.querySelector("span:nth-child(2)").classList.add("color-text-green"),s.querySelector("span").parentElement.classList.add("color-bg-green")):d.percent[n]<0&&(s.querySelector("span:nth-child(2)").classList.add("color-text-red"),s.querySelector("span").parentElement.classList.add("color-bg-red")),0===n?s.querySelector("td:nth-child(4) div").classList.add("color-bg-red"):(n>3&&n<8||9===n)&&s.querySelector("td:nth-child(4) div").classList.add("color-bg-green"),new e(document.querySelector(`#myChart-${n}`),a(0,5)).getChart()}}(".table",n)})).catch((e=>console.log(e))).finally((()=>document.querySelector(`${n} .loader`).remove()))}));